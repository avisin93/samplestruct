<div [formGroup]="formGroup">
  <div class="row row-cp">
    <div class="col-md-4 fields-with-plus">
      <div class="col-md-11">
        <mat-form-field class="col-md-12">
          <mat-select formControlName="selectedFunction" placeholder="Function" #singleSelect>
            <mat-option>
              <ngx-mat-select-search [formControl]="functionFilterCtrl" [placeholderLabel]="'Find Function'"
                [noEntriesFoundLabel]="'No matching Function found'"></ngx-mat-select-search>
            </mat-option>
            <mat-option *ngFor='let function of filteredFunctions | async' [value]="function.code">{{function.name}}
            </mat-option>
          </mat-select>
          <mat-error *ngIf="formGroup.get('selectedFunction')">
            {{getErrorMessage(formGroup.get('selectedFunction'))}}
          </mat-error>
        </mat-form-field>
      </div>
      <div class="col-md-1 new-plus">
        <i class="fas fa-plus-circle fa-lg" (click)="openCreateNewObjectDialog('Function','FUNCTION')"></i>
      </div>
    </div>
    <div class="col-md-4">
      <mat-form-field class="col-md-12">
        <input matInput class="mat-input-element mat-form-field-autofill-control cdk-text-field-autofill-monitored"
          placeholder="Person" aria-invalid="false" aria-required="false" formControlName="person" name="person">
        <mat-error *ngIf="formGroup.get('person').invalid">
          {{getErrorMessage(formGroup.get('person'))}}
        </mat-error>
      </mat-form-field>
    </div>
    <div class="col-md-4">
      <mat-form-field class="col-md-12">
        <input matInput class="mat-input-element mat-form-field-autofill-control cdk-text-field-autofill-monitored"
          placeholder="Email ID" aria-invalid="false" aria-required="false" formControlName="email" name="emailId">
        <mat-error *ngIf="formGroup.get('email').invalid">
          {{getErrorMessage(formGroup.get('email'), { pattern: 'Please enter a valid email id.'})}}
        </mat-error>
      </mat-form-field>
    </div>
  </div>
  <div class="row row-cp">
    <div class="col-md-4">
      <mat-form-field class="col-md-12">
        <input type="text" matInput placeholder="Country" formControlName="countryName" [matAutocomplete]="auto">
        <mat-autocomplete #auto="matAutocomplete" [displayWith]="displayCountryAndGetCountryCodeFn"
          (optionSelected)='getSelectedCountryValue($event.option.value)'>
          <mat-option *ngFor="let country of filteredCountries | async" [value]="country">
            {{country.name}}
          </mat-option>
        </mat-autocomplete>
        <mat-error *ngIf="formGroup.get('countryName').invalid">
          {{ getErrorMessage(formGroup.get('countryName')) }}
        </mat-error>
      </mat-form-field>
    </div>
    <div class="col-md-4">
      <mat-form-field class="col-md-12">
        <input matInput class="mat-input-element mat-form-field-autofill-control cdk-text-field-autofill-monitored"
          placeholder="Country Code" readonly aria-invalid="false" aria-required="false"
          formControlName="countryPhoneCode" name="countryPhoneCode">
        <mat-error *ngIf="formGroup.get('countryPhoneCode').invalid">
          {{getErrorMessage(formGroup.get('countryPhoneCode'))}}
        </mat-error>
      </mat-form-field>
    </div>
    <div class="col-md-4">
      <mat-form-field class="col-md-12">
        <input matInput (keyup)=onInputPhoneNumber($event)
          class="mat-input-element mat-form-field-autofill-control cdk-text-field-autofill-monitored"
          placeholder="Phone Number" aria-invalid="false" aria-required="false" formControlName="phoneNumber"
          name="phoneNumber">
        <mat-error *ngIf="formGroup.get('phoneNumber').invalid">
          {{getErrorMessage(formGroup.get('phoneNumber'))}}
        </mat-error>
      </mat-form-field>
    </div>
  </div>
</div>
<!-- <div class="content-right btn-container">
    <button class="cm-btn" id="cancel" (click)="cancel()">Cancel</button>
    <button class="cm-btn primary-pink-color" (click)="saveAndContinueContactPerson()">Save and Continue</button>
</div> -->

<div class="btn-container-bottom content-right-cp ds-vw">
  <button color="primary" class="cm-btn" id="cancel" (click)="cancel()">
    CANCEL
  </button>
  <button color="primary" class="cm-btn primary-pink-color" (click)="saveAndContinueContactPerson()">
    SAVE AND CONTINUE
  </button>
</div>
<div class="content-right btn-mob-container">
  <button color="primary" class="cm-mob-btn  mb-vw" id="cancel" (click)="cancel()">
    CANCEL
  </button>
  <button color="primary" class="cm-mob-btn primary-pink-color  mb-vw" (click)="saveAndContinueContactPerson()">
    SAVE AND CONTINUE
  </button>
</div>