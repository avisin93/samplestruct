<div [hidden]="!showPanels.tablePanel">
  <div class="row btn-container">
    <div class="content-left btn-container">
      <mat-form-field>
        <mat-label><i class="fa fa-cog"></i> Customize </mat-label>
        <mat-select [formControl]="customizeMenuSelect" [multiple]="true" #multiSelect>
          <mat-option>
            <ngx-mat-select-search [formControl]="customizeMenuFilter" [placeholderLabel]="'Find column...'"
              [noEntriesFoundLabel]="'No matching column found'"></ngx-mat-select-search>
          </mat-option>
          <mat-option *ngFor='let col of filteredColumnsMulti | async' [value]="col" (click)='toggleColumns(col)'>
            {{col.customizeName}}</mat-option>
        </mat-select>
      </mat-form-field>
    </div>
    <div class="content-right btn-container">
      <button class="cm-btn primary-btn primary-pink-color" (click)="openPanel(null)">
        ADD
      </button>
    </div>
  </div>
  <div class="row row-datatable datatable-div">
    <ngx-datatable #datatable class="material striped border border-light" [rows]="rowsTable" [columns]="columnsTable"
      [footerHeight]="50" [messages]="myMessages" [headerHeight]="70" [rowHeight]="35" [sortable]="true"
      [count]="pageTable.count" [offset]="pageTable.offset" [limit]="pageTable.limit" [columnMode]="'force'">
      <ng-template #sortableHeaderTemplate let-sort="sortFn" let-column="column" let-sortDir="sortDir"
        ngx-datatable-header-template>
        <span (click)="sort($event, sortDir, sortFn)" class="header-name">{{column.name}}
        </span>
        <div class="filter-continer">
          <input class="filter" placeholder='Filter' (keyup)="updateFilter($event, column.prop)" />
        </div>
      </ng-template>
      <ng-template #actionColumnTemplate let-row="row" let-value="value" let-rowIndex="rowIndex"
        ngx-datatable-cell-template>
        <div class="action-items-i">
          <i style="margin-right:15px;" matTooltip="Edit" class="fas fa-pencil-alt" (click)="openPanel(row)"></i>
          <i matTooltip="Delete" class="fas fa-trash-alt" (click)="openDialogForDeleteConfirmation(row)"></i>
        </div>
      </ng-template>
      <ngx-datatable-footer>
        <ng-template ngx-datatable-footer-template let-rowCount="rowCount" let-pageSize="pageTable.limit"
          let-curPage="curPage" let-offset="pageTable.offset" let-isVisible="isVisible">
          <div class="page-count" [hidden]="!((rowCount / pageTable.limit) > 1)">
            {{datatable.messages.totalMessage}}{{pageTable.offset * pageTable.limit + 1}} -
            {{pageTable.offset * pageTable.limit + pageTable.limit > rowCount ? rowCount : pageTable.offset * pageTable.limit + pageTable.limit }}
            of {{rowCount.toLocaleString()}}
          </div>
          <div [hidden]="!((rowCount / pageTable.limit) > 1)">
            <select (change)="onLimitChange($event.target.value)">
              <option *ngFor="let option of pageLimitOptions" [value]="option.value"
                [selected]="option.value == pageTable.limit">
                {{ option.value }}
              </option>
            </select>
          </div>
          <datatable-pager [pagerLeftArrowIcon]="'datatable-icon-left'" [pagerRightArrowIcon]="'datatable-icon-right'"
            [pagerPreviousIcon]="'datatable-icon-prev'" [pagerNextIcon]="'datatable-icon-skip'" [page]="curPage"
            [size]="pageTable.limit" [count]="rowCount" [hidden]="!((rowCount / pageTable.limit) > 1)"
            (change)="changePage($event)">
          </datatable-pager>
        </ng-template>
      </ngx-datatable-footer>
    </ngx-datatable>
    <!-- <div class="btn-container-bottom content-right-cp">
      <button color="primary" class="cm-btn" id="cancel" (click)="cancel()">
        CANCEL
      </button>
      <button color="primary" class="cm-btn primary-pink-color" (click)="saveAndContinueTableContactPerson()">
        SAVE AND CONTINUE
      </button>

  
    </div> -->
    <div class="btn-container-bottom content-right-cp ds-vw">
      <button color="primary" class="cm-btn" id="cancel" (click)="cancel()">
        CANCEL
      </button>
      <button color="primary" class="cm-btn primary-pink-color" (click)="saveAndContinueTableContactPerson()">
        SAVE AND CONTINUE
      </button>
    </div>
    <div class="content-right btn-mob-container">
      <button color="primary" class="cm-mob-btn  mb-vw" id="cancel" (click)="cancel()">
        CANCEL
      </button>
      <button color="primary" class="cm-mob-btn primary-pink-color  mb-vw"
        (click)="saveAndContinueTableContactPerson()">
        SAVE AND CONTINUE
      </button>
    </div>
  </div>
</div>
<div [hidden]="!showPanels.addPanel">
  <cm-add-contact-person [generalInfoLocation]="generalInfoLocation" [transferData]=transferData
    (goBack)="togglePanel()" (isDirty)="isChildDirty($event)"></cm-add-contact-person>
</div>