<div class="panel panel-primary">

    <div class="panel-body">

      <div class="form-group">
        <h5 class="text-dark mt-1 ml-3">
          <strong>{{'projects.labels.payAdvance'| translate}} - {{'common.labels.vendor'| translate}}</strong>
          <button class="btn btn-primary pull-right mr-3 btl-btn" (click)="navigateTo()">{{'common.labels.backToList'| translate}}</button>
        </h5>
      </div>
    <form class="form-horizontal" [formGroup]="vendorAdvanceForm" novalidate>
    <div class="row mt-1 no-mg">
        <div class="col-md-5 no-mg">
          <div class="form-group">
            <label class="col-md-12 col-xs-12 col-sm-8">{{'projects.labels.selectBudgetLine'| translate}}
              <span style="color:red;">*</span>
            </label>
            <div class="col-md-12 col-xs-12 col-sm-8 mt-1">
              <div style="width:132%;">
                <ngx-select [items]="budgetLineList" placeholder="{{'common.labels.select' | translate}}" formControlName="budgetLine" (select) = "budgetLineSelected($event)"></ngx-select>
                <div class="text-danger col-md-12 no-mg" *ngIf="vendorAdvanceForm.controls['budgetLine']?.errors?.checkRequired && (vendorAdvanceForm.controls['budgetLine'].touched  || submmitedFormFlag)">{{'actors.freelancers.errorMessages.fieldRequired'| translate}}</div>

              </div>
            </div>
          </div>
        </div>
        </div>
    <div class="form-group">
      <label class="col-md-12 col-xs-12 col-sm-8">{{'projects.labels.selectVendor'| translate}}
        <span style="color:red;">*</span>
      </label>
      <div class="row col-xs-12 col-sm-8">
        <div class="col-md-9">
          <ngx-select [items]="vendorsList" placeholder="{{'common.labels.select' | translate}}" formControlName="vendorId" (select)="vendorSelected($event)" ></ngx-select>
          <div class="text-danger col-md-12 no-mg" *ngIf="vendorAdvanceForm.controls['vendorId']?.errors?.checkRequired && (vendorAdvanceForm.controls['vendorId'].touched  || submmitedFormFlag)">{{'actors.freelancers.errorMessages.fieldRequired'| translate}}</div>

        </div>
      </div>
    </div>

    <div class="row mt-1 no-mg">
        <div class="col-md-5 no-mg">
          <div class="form-group">
            <label class="col-md-12 col-xs-12 col-sm-8">{{'common.labels.amount'| translate}}
              <span style="color:red;">*</span>
            </label>
            <div class="col-md-12 col-xs-12 col-sm-8 mt-1">
              <div style="width:100%;">
                <input   oninput="this.value = this.value.replace(/[^0-9.]/g,'');"  class="form-control"  formControlName="amount">
                <div class="text-danger col-md-12 no-mg" *ngIf="vendorAdvanceForm.controls['amount']?.errors?.checkRequired && (vendorAdvanceForm.controls['amount'].touched  || submmitedFormFlag)">{{'actors.freelancers.errorMessages.fieldRequired'| translate}}</div>
                <div class="text-danger" *ngIf="!vendorAdvanceForm.controls['amount']?.errors?.checkRequired && vendorAdvanceForm.controls['amount']?.errors?.checkDecimal && (vendorAdvanceForm.controls['amount'].touched) && vendorAdvanceForm.controls['amount'].dirty">{{'pages.errorMessages.validDecimal'| translate}}</div>
              </div>
            </div>
          </div>
        </div>
           <div class="col-md-5 no-mg mxn">
          <div class="form-group">
            <label class="col-md-12 col-xs-12 col-sm-8">{{defaultCurrency.name}}
            </label>

          </div>
        </div>
        </div>
    <div class="row no-mg">
        <div class="col-md-3">
      <label >{{'projects.labels.modeOfPayment'| translate}}
        <span style="color:red;">*</span>
      </label>
      <ngx-select [items]="modesOfOperation" placeholder="{{'common.labels.select' | translate}}"  formControlName="modeOfPayment" ></ngx-select>
      <div class="text-danger col-md-12 no-mg mb-1" *ngIf="vendorAdvanceForm.controls['modeOfPayment']?.errors?.checkRequired && (vendorAdvanceForm.controls['modeOfPayment'].touched  || submmitedFormFlag)">{{'actors.freelancers.errorMessages.fieldRequired'| translate}}</div>

    </div>
    <div class="col-md-3 date">
        <div class="form-group">
      <label >{{'projects.labels.paymentDate'| translate}}
        <span style="color:red;">*</span>
      </label>
          <my-date-picker class="bbdate" placeholder="{{'projects.labels.paymentDate'| translate}}"  formControlName="paymentDate"   [options]="datePickerOptions" ></my-date-picker>
          <div class="text-danger col-md-12 no-mg mb-1" *ngIf="vendorAdvanceForm.controls['paymentDate']?.errors?.checkRequired && (vendorAdvanceForm.controls['paymentDate'].touched  || submmitedFormFlag)">{{'actors.freelancers.errorMessages.fieldRequired'| translate}}</div>

    </div>
    </div>
    </div>

    <div class="row no-mg mt-1">
      <label class="col-md-12 col-xs-12 col-sm-8">{{'projects.labels.purpose'| translate}}
        <span style="color:red;">*</span>
      </label>
      <div class="row col-xs-12 col-sm-8">
        <div class="col-md-9">
          <textarea type="text" class="form-control"  formControlName="purpose"></textarea>
          <div class="text-danger col-md-12 no-mg" *ngIf="vendorAdvanceForm.controls['purpose']?.errors?.checkRequired && (vendorAdvanceForm.controls['purpose'].touched  || submmitedFormFlag)">{{'actors.freelancers.errorMessages.fieldRequired'| translate}}</div>

        </div>
      </div>
  </div>

    <div class="col-md-12 mt-3">

      <button  (click)="saveAdvance()"class="btn btn-success save-btn"><i *ngIf="spinnerFlag" class="fa fa-spinner fa-spin margin-right-5" ></i>{{'common.labels.save'| translate}}</button>
      <button  (click)="navigateTo()"class="btn btn-danger ml-1 cancel-btn">{{'common.labels.cancel'| translate}}</button>

    </div>
    </form>
  </div>


</div>
