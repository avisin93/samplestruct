<div id="individual-listing">
  <div class="content-heading">
    <!-- Breadcrumb right aligned-->
    <breadcrumb class="col-12 col-sm-8 col-md-8 col-lg-8 col-xl-8 no-mg" [breadcrumbData]="breadcrumbData"></breadcrumb>
    <div class="col-12 col-sm-4 col-md-4 col-lg-4 col-xl-4 text-right no-mg">
      <action-permission [permissionArr]="permissionArr" [MODULE_ID]="MODULE_ID" [actionType]="ACTION_TYPES.ADD">
        <button mat-button class="btn save-btn btn-primary" (click)="navigateTo()" type="button">
          {{'common.labels.add'| translate}}</button>
      </action-permission>
    </div>
  </div>
  <div class="card card-default">
    <div class="card-body">
      <form [formGroup]="IndividualListFilterForm" (submit)="search()">
        <div class="row mb-3">
          <div class="col-12 col-sm-3 col-md-3 col-lg-3 col-xl-3 mb-10">
            <input class="form-control input-width" id="" type="text" placeholder="{{'common.labels.name'| translate}}"
              formControlName="name" />
          </div>
          <div class="col-12 col-sm-3 col-md-3 col-lg-3 col-xl-3 mb-10">
            <input class="form-control input-width" id="" type="text" placeholder="{{'common.labels.email'| translate}}"
              formControlName="email" />
          </div>
          <div class="col-12 col-sm-3 col-md-3 col-lg-3 col-xl-3 mb-10">
            <input class="form-control input-width" id="" type="text" placeholder="{{'common.labels.phone'| translate}}"
              formControlName="phone" />
          </div>
          <div class="col-12 col-sm-5 col-md-4 col-lg-3 col-xl-3">
            <button class="btn search-btn btn-primary mb-10" type="submit" [disabled]="showLoadingFlg"
              (click)="search();">
              {{'common.labels.search'| translate}}</button>
            <button class="btn cancel-btn btn-primary mb-10" type="button" [disabled]="showLoadingFlg"
              (click)="clear();">
              {{'common.labels.clear'| translate}}</button>
          </div>
        </div>
      </form>
      <hr class="no-mg" *ngIf="individualList?.length === 0 && !showLoadingFlg" />
      <div class="row">
      <app-loader class="col-12 col-sm-12 col-md-12 col-lg-12 col-xl-12 pb-3" [loading]="showLoadingFlg"></app-loader>
    </div>
      <div class="col-12 col-sm-12 col-md-12 col-lg-12 col-xl-12 no-pd" [ngClass]="{'hide-content': showLoadingFlg}">
        <div class="table-responsive">
          <table class=" table table-striped table-bordered table-hover">
            <thead>
              <tr>
                <th class="">{{'common.labels.hash'| translate}}</th>
                <th class="w-25">{{'common.labels.name'| translate}}</th>
                <th class="w-25">{{'common.labels.email'| translate}}</th>
                <th class="w-25">{{'common.labels.phone'| translate}}</th>
                <th class="text-center">{{'common.labels.action' | translate}}</th>

              </tr>
            </thead>
            <tbody>
              <ng-container *ngIf="(individualList?.length == 0) && !showLoadingFlg">
                <tr>
                  <td colspan="12">
                    <p class="text-danger text-center">{{'common.labels.recordNotFound' | translate}}</p>
                  </td>
                </tr>
              </ng-container>
              <tr *ngFor="let individual of individualList; let fIndex=index">
                <td>{{fIndex + index}}</td>
                <td>{{individual.name}}</td>
                <td>{{individual.emailId}}</td>
                <td>{{individual.phone ? individual.phone:'-'}}</td>
                <td class="center">
                  <div class="d-inline-flex">
                    <action-permission [permissionArr]="permissionArr" [MODULE_ID]="MODULE_ID"
                      [actionType]="ACTION_TYPES.EDIT">
                      <i style="cursor: pointer;" (click)="editIndividual(individual)"
                        class="edit fa fa-edit edit-ico edit-icon f-17 mr-5"></i>
                    </action-permission>
                    <label class="switch switch-md">
                      <input type="checkbox" [checked]="individual.status"
                        (change)='openSwapPopUp($event, individual, fIndex);' />
                      <span></span>
                    </label>
                  </div>
                </td>
              </tr>
            </tbody>
          </table>

        </div>
      </div>

    </div>
    <div class="row no-mg list-pagination" [ngClass]="{'hide-content': showLoadingFlg}">
      <div class="col-12 col-sm-12 col-md-12 col-lg-12 col-xl-12" *ngIf="totalItems>itemsPerPage">
        <pagination class="pagination-sm pull-right" [(ngModel)]="page" [totalItems]="totalItems"
          [itemsPerPage]="itemsPerPage" [maxSize]="maxSize" [firstText]="'common.labels.first' | translate"
          [lastText]="'common.labels.last' | translate" [previousText]="'common.labels.previous' | translate"
          [nextText]="'common.labels.next' | translate" [boundaryLinks]="true" [rotate]="false"
          (pageChanged)="pageChanged($event)" (numPages)="numPages = $event">
        </pagination>
      </div>
    </div>

  </div>
</div>
